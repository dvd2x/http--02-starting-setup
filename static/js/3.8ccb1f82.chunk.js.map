{"version":3,"sources":["containers/Blog/NewPost/NewPost.js"],"names":["NewPost","state","title","content","author","submitted","postDataHandler","data","body","axios","post","then","response","console","log","props","history","replace","this","redirect","to","className","type","value","onChange","event","setState","target","rows","onClick","Component"],"mappings":"oPAMMA,G,iNACJC,MAAQ,CACNC,MAAO,GACPC,QAAS,GACTC,OAAQ,QACRC,WAAW,G,EAQbC,gBAAkB,WAChB,IAAMC,EAAO,CACXL,MAAO,EAAKD,MAAMC,MAClBM,KAAM,EAAKP,MAAME,QACjBC,OAAQ,EAAKH,MAAMG,QAErBK,IAAMC,KAAK,UAAWH,GAAMI,KAAK,SAAAC,GAC/BC,QAAQC,IAAIF,GACZ,EAAKG,MAAMC,QAAQC,QAAQ,a,mFAX7BJ,QAAQC,IAAII,KAAKH,S,+BAgBT,IAAD,OACHI,EAAW,KAIf,OAHID,KAAKjB,MAAMI,YACbc,EAAW,kBAAC,IAAD,CAAUC,GAAG,YAGxB,yBAAKC,UAAU,WACZF,EACD,0CACA,wCACA,2BACEG,KAAK,OACLC,MAAOL,KAAKjB,MAAMC,MAClBsB,SAAU,SAAAC,GAAK,OAAI,EAAKC,SAAS,CAAExB,MAAOuB,EAAME,OAAOJ,WAEzD,0CACA,8BACEK,KAAK,IACLL,MAAOL,KAAKjB,MAAME,QAClBqB,SAAU,SAAAC,GAAK,OAAI,EAAKC,SAAS,CAAEvB,QAASsB,EAAME,OAAOJ,WAE3D,yCACA,4BACEA,MAAOL,KAAKjB,MAAMG,OAClBoB,SAAU,SAAAC,GAAK,OAAI,EAAKC,SAAS,CAAEtB,OAAQqB,EAAME,OAAOJ,UAExD,4BAAQA,MAAM,SAAd,SACA,4BAAQA,MAAM,QAAd,SAEF,4BAAQM,QAASX,KAAKZ,iBAAtB,iB,GAvDcwB,cA6DP9B","file":"static/js/3.8ccb1f82.chunk.js","sourcesContent":["import React, { Component } from \"react\";\nimport axios from \"axios\";\nimport { Redirect } from \"react-router-dom\";\n\nimport \"./NewPost.css\";\n\nclass NewPost extends Component {\n  state = {\n    title: \"\",\n    content: \"\",\n    author: \"David\",\n    submitted: false\n  };\n\n  componentDidMount() {\n    //I unauth => this.props.history.replace('/posts')\n    console.log(this.props);\n  }\n\n  postDataHandler = () => {\n    const data = {\n      title: this.state.title,\n      body: this.state.content,\n      author: this.state.author\n    };\n    axios.post(\"/posts/\", data).then(response => {\n      console.log(response);\n      this.props.history.replace(\"/posts\");\n      //this.setState({ submitted: true });\n    });\n  };\n\n  render() {\n    let redirect = null;\n    if (this.state.submitted) {\n      redirect = <Redirect to=\"/posts\" />;\n    }\n    return (\n      <div className=\"NewPost\">\n        {redirect}\n        <h1>Add a Post</h1>\n        <label>Title</label>\n        <input\n          type=\"text\"\n          value={this.state.title}\n          onChange={event => this.setState({ title: event.target.value })}\n        />\n        <label>Content</label>\n        <textarea\n          rows=\"4\"\n          value={this.state.content}\n          onChange={event => this.setState({ content: event.target.value })}\n        />\n        <label>Author</label>\n        <select\n          value={this.state.author}\n          onChange={event => this.setState({ author: event.target.value })}\n        >\n          <option value=\"David\">David</option>\n          <option value=\"Manu\">Manu</option>\n        </select>\n        <button onClick={this.postDataHandler}>Add Post</button>\n      </div>\n    );\n  }\n}\n\nexport default NewPost;\n"],"sourceRoot":""}